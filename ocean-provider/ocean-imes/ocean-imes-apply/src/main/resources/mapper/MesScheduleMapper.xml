<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fantechs.provider.imes.apply.mapper.MesScheduleMapper">
      <resultMap id="BaseResultMap" type="com.fantechs.common.base.entity.apply.MesSchedule">
        <result column="schedule_id" jdbcType="BIGINT" property="scheduleId" />
        <result column="organization_id" jdbcType="BIGINT" property="organizationId" />
        <result column="schedule_code" jdbcType="VARCHAR" property="scheduleCode" />
        <result column="total" jdbcType="DECIMAL" property="total" />
        <result column="finished" jdbcType="DECIMAL" property="finished" />
        <result column="status" jdbcType="TINYINT" property="status" />
        <result column="is_delete" jdbcType="TINYINT" property="isDelete" />
        <result column="remark" jdbcType="VARCHAR" property="remark" />
        <result column="create_user_id" jdbcType="BIGINT" property="createUserId" />
        <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
        <result column="modified_user_id" jdbcType="BIGINT" property="modifiedUserId" />
        <result column="modified_time" jdbcType="TIMESTAMP" property="modifiedTime" />
    </resultMap>

<resultMap id="BaseResultMapDTO" type="com.fantechs.common.base.dto.apply.MesScheduleDTO" extends="BaseResultMap">

</resultMap>

  <select id="selectUserName" resultType="string">
    select su.user_name from ocean.sys_user su where su.user_id = #{id}
  </select>

 <select id="selectFilterAll" resultMap="BaseResultMapDTO" parameterType="map">
 </select>

    <insert id="batchScheduleDetail" parameterType="java.util.List">
        insert into mes_schedule_detail (schedule_id,work_order_id,order_id) values
        <foreach collection="mesScheduleDetailList" item="mesScheduleDetail" index="index" separator=",">
            (#{scheduleId},#{workOrderId},#{orderId})
        </foreach>
    </insert>
</mapper>